# Dockerfile for gateway application
FROM python:3.8-slim-buster

#RUN apt-get update

#RUN apt-get install -y netcat

RUN groupadd -g 999 appuser && \
    useradd -r -u 999 -g appuser appuser

COPY requirements.txt /tmp
RUN python -m pip install --no-cache-dir -r /tmp/requirements.txt

COPY ms1 /app/ms1

#COPY config.yml /app/config.yml
COPY run.sh /app/run.sh

RUN chmod +x /app/run.sh

USER appuser
WORKDIR /app

CMD /app/run.sh
